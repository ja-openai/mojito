.review-projects-page {
  --review-projects-row-height: 8rem;
  --review-projects-row-gap: var(--space-3);
  height: calc(100vh - var(--app-shell-header-height));
  display: flex;
  flex-direction: column;
  max-width: clamp(1200px, 100vw, 2200px);
  margin: 0 auto;
}

.review-projects-page__state {
  height: calc(100vh - var(--app-shell-header-height));
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-4);
  background: var(--color-surface);
  color: var(--color-text-muted);
  text-align: center;
}

.review-projects-page__state--error {
  color: var(--color-text-muted);
}

.review-projects-page__state-action {
  margin-top: var(--space-4);
  padding: var(--space-2) var(--space-3);
  border: var(--border-width) solid var(--color-border);
  border-radius: var(--radius-2);
  background: var(--color-surface);
  color: var(--color-text);
  cursor: pointer;
  font-size: var(--font-size-md);
}

.review-projects-page__state-action:focus {
  outline: 0.125rem solid var(--color-focus-outline);
  border-color: var(--color-focus-border);
}

.review-projects-page__bar {
  display: flex;
  align-items: center;
  gap: clamp(0.5rem, 2vw, 1.625rem);
  padding: var(--space-3) var(--space-6);
  flex-wrap: wrap;
  justify-content: space-between;
}

.review-projects-page__mode-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0;
  border: 1px solid color-mix(in srgb, var(--color-border) 78%, transparent);
  border-radius: var(--radius-pill);
  overflow: hidden;
  width: fit-content;
  background: var(--color-surface);
}

.review-projects-page__mode-button {
  border: 0;
  background: transparent;
  color: var(--color-text-muted);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  padding: 0.35rem 0.85rem;
}

.review-projects-page__mode-button + .review-projects-page__mode-button {
  border-left: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
}

.review-projects-page__mode-button.is-active {
  background: color-mix(in srgb, var(--color-accent) 14%, var(--color-surface));
  color: color-mix(in srgb, var(--color-accent) 74%, var(--color-text));
}

.review-projects-page__create-button {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-2);
  border: none;
  background: var(--color-accent);
  color: #fff;
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-sm);
  text-decoration: none;
}

.review-projects-page__create-button:hover {
  filter: brightness(1.05);
}

.review-projects-page__create-button:active {
  transform: translateY(1px);
}

.review-projects-page__search-mine {
  border: 0;
  background: transparent;
  color: var(--color-text-subtle);
  font-size: var(--font-size-xs);
  line-height: 1;
  padding: 0.125rem;
  cursor: pointer;
  text-transform: lowercase;
}

.review-projects-page__search-mine:hover,
.review-projects-page__search-mine:focus-visible {
  color: var(--color-accent);
}

.review-projects-page__rows-frame {
  flex: 1;
  min-height: 0;
  display: flex;
}

.review-projects-page__rows-shell {
  flex: 1;
  display: flex;
  background: var(--color-surface);
  padding: var(--space-4) var(--space-6) var(--space-6);
}

.review-projects-page__rows {
  position: relative;
  flex: 1;
  min-height: 0;
  overflow: auto;
  scrollbar-gutter: stable both-edges;
}

.review-projects-page__rows--empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.review-projects-page__rows-inner {
  position: relative;
  width: 100%;
}

.review-projects-page__request-toggle {
  border: 0;
  background: transparent;
  color: var(--color-text);
  font-size: 1rem;
  font-weight: var(--font-weight-semibold);
  display: inline-flex;
  align-items: baseline;
  gap: var(--space-2);
  padding: 0;
  cursor: inherit;
}

.review-projects-page__row-grid--request {
  cursor: pointer;
}

.review-projects-page__request-id {
  color: var(--color-text-subtle);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-regular);
}

.review-projects-page__request-secondary {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  min-width: 0;
}

.review-projects-page__request-dot {
  color: var(--color-text-subtle);
  font-size: var(--font-size-sm);
  line-height: 1;
}

.review-projects-page__request-id-button {
  border: 0;
  background: transparent;
  padding: 0;
  text-align: left;
  cursor: pointer;
}

.review-projects-page__request-id-button:hover,
.review-projects-page__request-id-button:focus-visible {
  color: var(--color-accent);
}

.review-projects-page__request-created-by {
  color: var(--color-text-muted);
  font-size: var(--font-size-xs);
}

.review-projects-page__request-projects {
  margin-top: var(--space-3);
  border-top: 1px solid color-mix(in srgb, var(--color-border) 65%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 65%, transparent);
  padding-top: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.review-projects-page__request-project-row {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr);
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-3);
}

.review-projects-page__request-project-link {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto minmax(10rem, 14rem);
  align-items: center;
  gap: var(--space-3);
  min-width: 0;
}

.review-projects-page__request-project-row
  > .review-projects-page__request-project-link:only-child {
  grid-column: 1 / -1;
}

.review-projects-page__request-project-row + .review-projects-page__request-project-row {
  border-top: 1px solid color-mix(in srgb, var(--color-border) 45%, transparent);
}

.review-projects-page__request-project-row:hover {
  background: color-mix(in srgb, var(--color-accent) 7%, transparent);
}

.review-projects-page__select--request-group,
.review-projects-page__select--request-row {
  margin-right: var(--space-1);
}

.review-projects-page__request-project-locale {
  display: grid;
  grid-template-columns: minmax(4rem, max-content) minmax(0, 1fr);
  align-items: center;
  gap: var(--space-2);
  min-width: 0;
}

.review-projects-page__request-project-locale-name {
  font-size: var(--font-size-sm);
  color: var(--color-text);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.review-projects-page__request-project-locale .pill {
  justify-self: start;
  white-space: nowrap;
}

.review-projects-page__request-project-meta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
  justify-content: flex-start;
}

.review-projects-page__request-project-progress {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  min-width: 0;
}

.review-projects-page__request-project-progress .review-projects-page__progress-bar {
  flex: 1 1 8rem;
  min-width: 7rem;
  height: 0.875rem;
  min-height: 0.875rem;
}

.review-projects-page__request-project-progress .review-projects-page__progress-fill {
  background: var(--color-accent);
}

.review-projects-page__request-project-progress .review-projects-page__progress-percent {
  width: auto;
  text-align: right;
  white-space: nowrap;
}

.review-projects-page__summary-bar {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
  align-items: center;
  gap: var(--space-3);
  padding: 0 var(--space-6);
  min-height: 2.25rem;
  background: var(--color-surface);
  color: var(--color-text);
  font-size: var(--font-size-md);
}

.review-projects-page__summary-left {
  justify-self: start;
}

.review-projects-page__summary-center {
  justify-self: center;
}

.review-projects-page__summary-right {
  display: inline-flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: nowrap;
  justify-self: end;
}

.review-projects-page__admin-bar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  padding: var(--space-2) var(--space-6);
  background: var(--color-surface);
}

.review-projects-page__admin-left {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.review-projects-page__admin-count {
  color: var(--color-text);
  font-weight: var(--font-weight-medium);
}

.review-projects-page__admin-link {
  border: 0;
  background: transparent;
  color: var(--color-accent);
  cursor: pointer;
  padding: 0;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.review-projects-page__admin-link:disabled {
  color: var(--color-text-subtle);
  cursor: not-allowed;
}

.review-projects-page__admin-actions {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}

.review-projects-page__admin-button {
  padding: 0.35rem 0.7rem;
  border-radius: var(--radius-pill);
  border: 0.0625rem solid color-mix(in srgb, var(--color-border) 70%, transparent);
  background: var(--color-surface);
  color: var(--color-text);
  cursor: pointer;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.review-projects-page__admin-button:hover:not(:disabled),
.review-projects-page__admin-button:focus-visible:not(:disabled) {
  border-color: color-mix(in srgb, var(--color-accent) 65%, var(--color-border));
  color: var(--color-accent);
}

.review-projects-page__admin-button:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.review-projects-page__admin-button--danger:hover:not(:disabled),
.review-projects-page__admin-button--danger:focus-visible:not(:disabled) {
  border-color: color-mix(in srgb, var(--color-danger) 65%, var(--color-border));
  color: var(--color-danger);
}

.review-projects-page__admin-error {
  flex: 1 0 100%;
  color: var(--color-danger);
  font-size: var(--font-size-sm);
}

.review-create__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.review-create__stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.review-create__field {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.review-create__label {
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-sm);
}

.review-create__input,
.review-create__select,
.review-create__textarea {
  width: 100%;
  border: 1px solid color-mix(in srgb, var(--color-border) 75%, transparent);
  border-radius: var(--radius-2);
  padding: var(--space-2) var(--space-3);
  background: color-mix(in srgb, var(--color-surface) 96%, transparent);
  font-size: var(--font-size-sm);
}

.review-create__select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%234b5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--space-3) center;
  background-size: 0.85rem;
  padding-right: var(--space-7);
}

.review-create__select-dropdown.chip-dropdown {
  width: 100%;
}

.review-create__select-dropdown .chip-dropdown__button {
  min-height: 2.25rem;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-2);
  border: 1px solid color-mix(in srgb, var(--color-border) 75%, transparent);
  background: color-mix(in srgb, var(--color-surface) 96%, transparent);
}

.review-create__select-dropdown .chip-dropdown__panel {
  min-width: 100%;
}

.review-create__textarea {
  resize: vertical;
  min-height: 5.5rem;
}

.review-create__two-up {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.review-create__hint {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.review-create__locale-select {
  width: 100%;
}

.review-create__actions {
  margin-top: var(--space-2);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.review-create__error {
  color: var(--color-danger);
  margin-right: auto;
  font-size: var(--font-size-sm);
}

.review-create__ghost {
  border: 1px solid color-mix(in srgb, var(--color-border) 75%, transparent);
  border-radius: var(--radius-2);
  background: transparent;
  color: var(--color-text);
  padding: var(--space-2) var(--space-3);
  cursor: pointer;
  min-height: 2.25rem;
}

.review-create__ghost:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.review-create__cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  border: 0;
  border-radius: var(--radius-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-accent);
  color: #fff;
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  min-height: 2.5rem;
}

.review-create__cta:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.review-create__pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: 0.4rem 0.75rem;
  border-radius: var(--radius-pill);
  background: color-mix(in srgb, var(--color-surface-muted) 65%, transparent);
  color: var(--color-text);
  font-size: var(--font-size-sm);
}

.review-create__cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  border: 0;
  border-radius: var(--radius-2);
  padding: var(--space-2) var(--space-4);
  background: var(--color-accent);
  color: #fff;
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  min-height: 2.5rem;
}

.review-create__cta:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.review-projects-create {
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  align-items: center;
}

.review-create__page-shell {
  width: 100%;
  max-width: 760px;
  padding: 0 var(--space-6) var(--space-6);
}

.review-create__empty {
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.review-create__empty-title {
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-lg);
  color: var(--color-text);
}

.review-create__empty-body {
  color: var(--color-text-muted);
}

.review-create__empty-cta {
  align-self: flex-start;
  padding: 0.5rem 0.85rem;
  border-radius: var(--radius-pill);
  background: var(--color-accent);
  color: var(--color-on-accent);
  text-decoration: none;
  font-weight: var(--font-weight-semibold);
}

.review-create__empty-cta:hover,
.review-create__empty-cta:focus-visible {
  filter: brightness(0.97);
}

.review-projects-page__row-grid {
  display: grid;
  grid-template-columns: 2fr 1.2fr 1fr 1fr;
  grid-template-rows: 1fr 1.5fr;
  grid-template-areas:
    'project . . type'
    'meta counts locales progress';
  column-gap: var(--space-3);
  row-gap: var(--space-4);
}

.review-projects-page__row-card {
  padding: var(--space-3) var(--space-3);
  background: color-mix(in srgb, var(--color-surface) 90%, transparent);
  border: 0.0625rem solid color-mix(in srgb, var(--color-border) 55%, transparent);
  box-shadow: 0 0.75rem 1.25rem -1rem color-mix(in srgb, var(--color-border) 60%, transparent);
  border-radius: var(--radius-3);
  margin-bottom: var(--review-projects-row-gap);
  min-height: var(--review-projects-row-height);
}

.review-projects-page__project {
  grid-area: project;
  min-width: 11.25rem;
}

.review-projects-page__link {
  color: inherit;
  text-decoration: none;
}

.review-projects-page__id-row {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.review-projects-page__request-link {
  border: none;
  background: none;
  padding: 0;
  font-size: var(--font-size-xs);
  cursor: pointer;
  text-decoration: none;
  opacity: 0;
  pointer-events: none;
  transition: opacity 150ms ease;
}

.review-projects-page__row-card:hover .review-projects-page__request-link,
.review-projects-page__row-card:hover .review-projects-page__request-link {
  opacity: 1;
  pointer-events: auto;
}

.review-projects-page__select {
  display: inline-flex;
  align-items: center;
}

.review-projects-page__select-input {
  width: 1rem;
  height: 1rem;
  cursor: pointer;
  accent-color: var(--color-accent);
}

.review-projects-page__close-reason {
  padding: 0.125rem 0.5rem;
  border-radius: var(--radius-pill);
  background: color-mix(in srgb, var(--color-surface-muted) 70%, transparent);
  color: var(--color-text-subtle);
  font-size: var(--font-size-xs);
}

.review-projects-page__meta {
  grid-area: meta;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: var(--space-3);
  color: var(--color-text);
  font-size: var(--font-size-md);
}

.review-projects-page__pill-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.review-projects-page__pill--locale {
  background: color-mix(in srgb, var(--color-accent) 10%, transparent);
  color: var(--color-accent);
  font-size: var(--font-size-sm);
}

.review-projects-page__locales {
  grid-area: locales;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  text-align: center;
}

.review-projects-page__count-line {
  display: flex;
  align-items: baseline;
  gap: var(--space-1);
}

.review-projects-page__count {
  font-weight: var(--font-weight-semibold);
  text-align: right;
  font-size: var(--font-size-md);
}

.review-projects-page__counts {
  grid-area: counts;
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

.review-projects-page__progress {
  grid-area: progress;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  width: 100%;
  max-width: none;
  align-items: flex-end;
  justify-content: center;
  margin-left: auto;
}

.review-projects-page__progress-bar {
  width: 100%;
  height: 0.75rem;
  min-height: 0.75rem;
  border-radius: var(--radius-pill);
  background: color-mix(in srgb, var(--color-surface-muted) 85%, transparent);
  overflow: hidden;
}

.review-projects-page__progress-fill {
  display: block;
  height: 100%;
  background: color-mix(in srgb, var(--color-accent) 80%, transparent);
  border-radius: var(--radius-pill);
  transition: width 0.2s ease;
}

.review-projects-page__type {
  grid-area: type;
  align-self: center;
  justify-self: end;
}

.review-projects-page__progress-meta {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  width: 100%;
}

.review-projects-page__progress-percent {
  font-weight: var(--font-weight-regular);
  font-size: var(--font-size-md);
  color: var(--color-text);
  width: 100%;
  text-align: right;
}

.review-projects-page__empty {
  margin: auto;
  padding: var(--space-8) var(--space-4);
  text-align: center;
  max-width: 32rem;
  color: var(--color-text-muted);
}

.review-projects-page__project-name {
  font-size: 1.08rem;
  font-weight: var(--font-weight-semibold);
}

.review-projects-page__type-pill {
  justify-self: flex-end;
  font-size: var(--font-size-sm);
}

.review-projects-page__type-pill.review-projects-page__type-pill--emergency {
  background: var(--color-danger);
  color: var(--color-surface);
}

.review-projects-page__type-pill.review-projects-page__type-pill--default {
  background: color-mix(in srgb, var(--color-surface-muted) 70%, transparent);
}

@media (max-width: 960px) {
  .review-projects-page__summary-bar {
    grid-template-columns: 1fr;
    justify-items: stretch;
    row-gap: var(--space-2);
  }

  .review-projects-page__summary-left {
    justify-self: start;
  }

  .review-projects-page__summary-center {
    justify-self: center;
  }

  .review-projects-page__summary-right {
    justify-self: end;
  }

  .review-projects-page__request-project-row {
    grid-template-columns: 1fr;
    align-items: flex-start;
  }

  .review-projects-page__request-project-link {
    grid-template-columns: 1fr;
    width: 100%;
  }

  .review-projects-page__request-project-meta {
    justify-content: flex-start;
  }

  .review-projects-page__request-project-progress {
    width: 100%;
  }

  .review-projects-page__row-grid {
    grid-template-columns: 1fr 1fr;
    grid-template-areas:
      'project project'
      'type type'
      'meta meta'
      'counts counts'
      'locales locales'
      'progress progress';
  }
}
